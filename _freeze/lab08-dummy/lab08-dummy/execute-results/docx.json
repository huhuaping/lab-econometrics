{
  "hash": "9f70f019b2edc8d58f81ccf3490f07ac",
  "result": {
    "markdown": "---\ntitle: \"实验08：虚拟变量\"\nsubtitle: \"印度工人案例\"\nauthor: \"任课教师：胡华平\"\ndate: \"2023-12-25\"\n\nexecute: \n  echo: false\n\nparams:\n  hand_out:\n    value:\n      lab_num: 8\n      name_chn: 虚拟变量\n      name_eng: dummy\n  hw_start: '2023-12-25'\n  hw_end: '2024-01-01'\n  topic: 'dummy'\n  class: 'under'\n  id_year: '2021'\n  teach_year: '2023'\n  term: '2023'\n  course_id:\n    value:\n      academic: '6132001'\n      major: 'pd7134001'\n      under: '3133101'\n\nformat:\n  docx:\n    #output-file: homework02-test.docx\n    number-sections: true\n    highlight-style: github\n    reference-doc: ../template/template-word-lab-exrecise.docx\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n<br>\n\n学生姓名：_________；学生学号：___________；专业班级：__________\n\n<br>\n\n\n# 作业提交\n\n**实验发布时间**：2023-12-25（周一）24:00:00\n\n**提交截止时间**：2024-01-01（周一）24:00:00\n\n**实验提交材料**：\n\n（1）根据实验要求，完成Office Word电子文档一份（注意不能是wps文档），提交前请将文件命名为下述格式：lab08_word_张三_2019000001.docx。\n\n（2）根据实验要求，完成EViews相关操作，保存并提交1份EViews工作文件`.wfl文件`，提交前请将文件命名为下述格式：lab08_eviews_张三_2019000001.wfl。\n\n（3）根据实验要求，完成EViews相关操作，保存并提交1份EViews编程代码文件`.prg文件`，提交前请将文件命名为下述格式：lab08_code_张三_2019000001.prg。\n\n\n**实验提交方式**：\n\n- 登陆西北农林科技大学[在线教育综合平台](https://eol.nwafu.edu.cn/meol/index.do) ->> 进入课程《计量经济学》（胡华平主讲，课程编号3133101） ->> 进入【课程作业】进行作业资料下载和作业提交。\n\n- 请按上述要求命名各个提交文件。 系统提交页面中，务必让每个上传文件之间换行，保持提交页面布局美观！\n\n\n# 作业提示\n\n## 如何在word中编辑数学公式？\n\n（1）如果使用Office 2003版：“插入” $\\Rightarrow$“对象”$\\Rightarrow$“microsoft公式3.0”\n\n（2）如使用Office 2007/2010版：“插入”$\\Rightarrow$“新公式”\n\n（3）使用独立公式软件`Mathtype`，任何Office版本都可以\n\na.在`Mathtype`中编写公式$\\Rightarrow$ 确定无误后复制公式$\\Rightarrow$然后粘贴到word中。\n    \nb.在`Word`中修改Mathtype形式的公式：$\\Rightarrow$ 双击公式则可以打开Mathtype软件，然后按上一步骤操作，修改完成后，点击保存即可。\n\n<br>\n\n<br>\n\n\\newpage\n\n# 作业内容\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n> **温馨提示**：\n>（1）作业配套数据请在作业发布平台界面中自行下载。\n>（2）每个同学的数据都不一样（但样本数相同$n=114$）。请下载数据表后，按后面作业要求找到自己的数据，并进行Excel预处理（以便导入到Eviews）。\n\n\n\n\n为了分析一国存货量与销售额的关系，我们考虑如下所示的一些变量（具体定义见 @tbl-vars ）：\n\n\n::: {#tbl-vars .cell layout-align=\"center\" tbl-cap='变量定义及说明'}\n::: {.cell-output-display}\n| 变量_代码 | 变量_中文 |                                       定义和取值                                        |\n|:---------:|:---------:|:---------------------------------------------------------------------------------------:|\n|    obs    | 工人编号  |                                   序号(observations)                                    |\n|   wage    | 工人工资  |                                    美元/周(\\$/week)                                     |\n|    age    |   年龄    |                                        岁(year)                                         |\n|    edu    | 教育水平  | ill=文盲(illiteracy)；pri=初等教育(primary)；mid=中等教育(middle)；hig=高等教育(higher) |\n|    dpt    | 合同类型  |                    tem=短期合同(temporary)；per=长期合同(permanent)                     |\n|    sex    |   性别    |                                f=女(female)；m=男(male)                                 |\n:::\n:::\n\n\n\n\n下 @fig-data-show 给出了存货与销售额实验案例的学生上机操作数据。\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![印度工人工资案例的学生实验数据（n=114）](lab08-dummy_files/figure-docx/fig-data-show-1.png){#fig-data-show fig-align='center'}\n:::\n:::\n\n\n\\newpage\n\n# 作业任务\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n（1）请大家下载本次作业数据文件到本地电脑。\n\n> **温馨提示**：a.文件尽量不要放在电脑桌面，而是保存在自己清楚的文件夹路径下（如\"D://econometrics//lab08\"）；b.注意下载工具的使用，不是直接打开xlsx文件，而是要下载到本地电脑，然后再打开！\n\n答：此问不用作答，完成指定操作即可！\n\n<br>\n\n（2）打开EViews软件，创建工作文件（WF），命名为lab08-dummy；以及建立工作页（page），命名为dummy。\n\n答：此问不用作答，完成指定操作即可！\n\n<br>\n\n（3）将工作文件项目保存到本地电脑`.wfl`文件，并命名为“lab08_eviews_张三_2019000001.wfl”的形式。\n\n> **要求**：注意记住保存的文件夹路径，这个文件要提交到作业系统的！！！\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）对xlsx数据文件进行清洗处理，只保留必要数据列：obs、wage、age、edu、dpt、sex）。删除其他个人信息列。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）将清洗处理好后的数据导入到刚才建好的Eviews工作文件中。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目1：虚拟变量编码\n\n根据案例情形，数据集中存在三个定性变量$(edu_i,dpt_i,sex_i)$，我们需要依次将它们转换为各自的虚拟变量体系：\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n$$\n\\begin{aligned}\n&edu \\Longrightarrow  \n  \\begin{cases}\n    edu\\_ill  =\n    \\begin{cases}\n    1, & \\text{ill}\\\\\n    0, & \\text{not ill}\n    \\end{cases} \\\\\n    edu\\_pri = \n    \\begin{cases}\n    1, & \\text{pri}\\\\\n    0, & \\text{not pri}\n    \\end{cases} \\\\\n    edu\\_mid  =\n    \\begin{cases}\n    1, & \\text{mid}\\\\\n    0, & \\text{not mid}\n    \\end{cases}\\\\\n     edu\\_hig  =\n    \\begin{cases}\n    1, & \\text{hig}\\\\\n    0, & \\text{not hig}\n    \\end{cases}\n  \\end{cases}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n&dpt \\Longrightarrow  \n  \\begin{cases}\n    dpt\\_tem  =\n    \\begin{cases}\n    1, & \\text{tem}\\\\\n    0, & \\text{not tem}\n    \\end{cases} \\\\\n    dpt\\_per = \n    \\begin{cases}\n    1, & \\text{per}\\\\\n    0, & \\text{not per}\n    \\end{cases} \n  \\end{cases}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n&sex \\Longrightarrow  \n  \\begin{cases}\n    sex\\_f  =\n    \\begin{cases}\n    1, & \\text{f}\\\\\n    0, & \\text{not f}\n    \\end{cases} \\\\\n    sex\\_m = \n    \\begin{cases}\n    1, & \\text{m}\\\\\n    0, & \\text{not m}\n    \\end{cases} \n  \\end{cases}\n\\end{aligned}\n$$\n\n\n（1）请你按照上述规则，在EViews中 把定性变量**教育水平**$edu_i$（m=4）设置成虚拟变量体系。然后把$edu_i$序列以及其4个虚拟变量序列，以组对象的形式保存并命名为：![](../pic/object/Group.png)`group_edu`。最后将这个组对象元素截图到如下空白处。（**要求**：截图10个样本长度即可）。\n\n> **温馨提示**：在EViews命令窗口中输入并运行如下代码`series edu_ill=@recode(edu=\"ill\",1,0)`\n\n答：截图如下\n\n<br>\n\n<br>\n\n<br>\n\n\n（2）请你按照上述规则，在EViews中 把定性变量**合同类型**$dpt_i$（m=2）设置成虚拟变量体系。然后把$dpt_i$序列以及其2个虚拟变量序列，以组对象的形式保存并命名为：![](../pic/object/Group.png)`group_dpt`。最后将这个组对象元素截图到如下空白处。（**要求**：截图10个样本长度即可）。\n\n答：截图如下\n\n<br>\n\n<br>\n\n<br>\n\n\n（3）请你按照上述规则，在EViews中 把定性变量**性别**$sex_i$（m=2）设置成虚拟变量体系。然后把$sex_i$序列以及其2个虚拟变量序列，以组对象的形式保存并命名为：![](../pic/object/Group.png)`group_sex`。最后将这个组对象元素截图到如下空白处。（**要求**：截图10个样本长度即可）。\n\n答：截图如下\n\n<br>\n\n<br>\n\n<br>\n\n\n## 题目2：定量变量的线性回归模型\n\n如果可以将工资变量（$wage_i$）对年龄变量（$age_i$）进行如下的线性建模（见模型 @eq-poly-model ）：\n\n\n\n::: {.cell layout-align=\"center\"}\n$$\n\\begin{aligned}\n\\begin{split}\n\\widehat{wage}_i=&+\\hat{\\beta}_{1}+\\hat{\\beta}_{2}age_i+\\hat{\\beta}_{3}age^2_i\n\\end{split}\n\\quad \\text{(polynomial model)}\\quad\n\\end{aligned}\n$$ {#eq-poly-model}\n:::\n\n\n（1）运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型（见式 @eq-poly-model ）进行回归分析。在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_poly`。最后截图到下列空白处。\n\n\n答：\n\n<br>\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n（2）根据以上模型（见式 @eq-poly-model ）的EViews回归结果，请你计算出**年龄为30岁**工人的工资的估计值。（**要求**：写出主要计算过程，结果保留2位小数。）\n\n\n答：\n\n<br>\n\n<br>\n\n<br>\n\n<br>\n\n## 题目3：仅含定性变量模型（加法形式）\n\n（1）考虑将工资变量（$wage_i$）对三个定性变量（$edu_i,dpt_i,sex_i$）进行**加法形式**的虚拟变量线性回归建模。请你写出以**\\{仅有文盲学历和临时合同的男性\\}**工人为基础组的虚拟变量回归总体模型。（**要求**：回归系数参数用$\\alpha_1,\\alpha_2,\\cdots$表示；随机干扰项用$v_i$表示）。\n\n答：\n\n$$\n\\begin{aligned}\nwage_i & = \\quad \\quad \\quad &&\\text{(quality model)}\n\\end{aligned}\n$$ {#eq-quality-model}\n\n\n<br>\n\n<br>\n\n<br>\n\n\n（2）运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型（见式 @eq-quality-model ）进行回归分析。在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_quality`。最后截图到下列空白处。\n\n\n答：\n\n<br>\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n（2）根据以上模型（见式 @eq-poly-model ）的EViews回归结果，请你计算出**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值；以及**\\{有高学历和临时合同的女性\\}**工人的工资的估计值。（**要求**：写出主要计算过程，结果保留2位小数。）\n\n\n答：a）**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\nb）**\\{有高学历和临时合同的女性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\n\n## 题目4：仅含定性变量模型（完全乘法形式）\n\n（1）考虑将工资变量（$wage_i$）对三个定性变量（$edu_i,dpt_i,sex_i$）进行**完全乘法形式**的虚拟变量线性回归建模（也即只出现交叉项，不含独立加法项）。请你写出以**\\{仅有文盲学历和临时合同的男性\\}**工人为基础组的虚拟变量回归总体模型。（**要求**：回归系数参数用$\\gamma_1,\\gamma_2,\\cdots$表示；随机干扰项用$v_i$表示）。\n\n答：\n\n$$\n\\begin{aligned}\nwage_i & = \\quad \\quad \\quad &&\\text{(cross full)} \n\\end{aligned}\n$$ {#eq-cross-full}\n\n<br>\n\n<br>\n\n<br>\n\n\n（2）运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型（见式 @eq-quality-model ）进行回归分析。在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_cross_full`。最后截图到下列空白处。\n\n\n答：\n\n<br>\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n（2）根据以上模型（见式 @eq-cross-full ）的EViews回归结果，请你计算出**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值；以及**\\{有高学历和临时合同的女性\\}**工人的工资的估计值。（**要求**：写出主要计算过程，结果保留2位小数。）\n\n\n答：a）**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\nb）**\\{有高学历和临时合同的女性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\n## 题目5：仅含定性变量模型（部分混合形式）\n\n（1）考虑将工资变量（$wage_i$）对三个定性变量（$edu_i,dpt_i,sex_i$）进行**部分混合形式**的虚拟变量线性回归建模（也即：定性变量的虚拟变量独立项加法形式进入；但明确要求$sex_i$与$edu_i$的交叉项进入，且其他交叉项不进入模型）。请你写出以**\\{仅有文盲学历和临时合同的男性\\}**工人为基础组的虚拟变量回归总体模型。（**要求**：回归系数参数用$\\gamma_1,\\gamma_2,\\cdots$表示；随机干扰项用$v_i$表示）。\n\n答：\n\n$$\n\\begin{aligned}\nwage_i & = \\quad \\quad \\quad &&\\text{(cross sex)}\n\\end{aligned}\n$$ {#eq-cross-sex}\n\n<br>\n\n<br>\n\n<br>\n\n\n（2）运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型（见式 @eq-cross-sex ）进行回归分析。在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_cross_sex`。最后截图到下列空白处。\n\n\n答：\n\n<br>\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n（2）根据以上模型（见式 @eq-cross-sex ）的EViews回归结果，请你计算出**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值；以及**\\{有高学历和临时合同的女性\\}**工人的工资的估计值。（**要求**：写出主要计算过程，结果保留2位小数。）\n\n\n答：a）**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\nb）**\\{有高学历和临时合同的女性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\n## 题目6：同时含定性和定量变量模型（部分混合形式）\n\n（1）考虑将工资变量（$wage_i$）对定量变量（$age_i$,$age^2_i$），以及三个定性变量（$edu_i,dpt_i,sex_i$）进行**部分混合形式**的虚拟变量线性回归建模（也即：定性变量的虚拟变量独立项加法形式进入；但明确要求$sex_i$与$edu_i$的交叉项进入，其他交叉项不进入模型）。请你写出以**\\{仅有文盲学历和临时合同的男性\\}**工人为基础组的虚拟变量回归总体模型。（**要求**：回归系数参数用$\\gamma_1,\\gamma_2,\\cdots$表示；随机干扰项用$v_i$表示）。\n\n答：\n\n$$\n\\begin{aligned}\nwage_i & = \\quad \\quad \\quad &&\\text{(cross hybrid)}\n\\end{aligned}\n$$ {#eq-cross-hybrid}\n\n<br>\n\n<br>\n\n<br>\n\n\n（2）运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型（见式 @eq-cross-hybrid ）进行回归分析。在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_cross_hybrid`。最后截图到下列空白处。\n\n\n答：\n\n<br>\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n（2）根据以上模型（见式 @eq-cross-sex ）的EViews回归结果，请你计算出**\\{仅有文盲学历和临时合同的男性\\}**工人的工资的估计值；以及**\\{有高学历和临时合同的女性\\}**工人的工资的估计值。（**要求**：写出主要计算过程，结果保留2位小数。）\n\n\n答：a）**\\{仅有文盲学历和临时合同的30岁男性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\nb）**\\{有高学历和临时合同的30岁女性\\}**工人的工资的估计值\n\n<br>\n\n<br>\n\n<br>\n\n\n## 题目7：应用分析\n\n根据上述多个回归模型（见式 @eq-poly-model 、式 @eq-quality-model 、式 @eq-cross-full 、式 @eq-cross-sex 、式 @eq-cross-hybrid ）和EViews分析结果，你最终希望采用哪一个分析模型？请你判断女性工人是否受到了工资歧视？请简要说明你的理由和看法。\n\n答：\n\n<br>\n\n<br>\n\n<br>\n\n<br>\n\n<br>\n\n<br>\n\n\n\n\n",
    "supporting": [
      "lab08-dummy_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}