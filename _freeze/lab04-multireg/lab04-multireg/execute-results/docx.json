{
  "hash": "f71de3c07c61fa0977f663688321e533",
  "result": {
    "markdown": "---\ntitle: \"实验04：多元回归\"\nsubtitle: \"矩阵计算与玫瑰案例\"\nauthor: \"任课教师：胡华平\"\ndate: \"2023-11-27\"\n\nexecute: \n  echo: false\n\nparams:\n  hand_out:\n    value:\n      lab_num: 4\n      name_chn: 多元回归\n      name_eng: multireg\n  hw_start: '2023-11-27'\n  hw_end: '2023-12-04'\n  topic: 'multireg'\n  class: 'under'\n  id_year: '2021'\n  teach_year: '2023'\n  term: '2023'\n  course_id:\n    value:\n      academic: '6132001'\n      major: 'pd7134001'\n      under: '3133101'\n\nformat:\n  docx:\n    #output-file: homework02-test.docx\n    number-sections: true\n    highlight-style: github\n    reference-doc: ../template/template-word-lab-exrecise.docx      \n---\n\n::: {.cell}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n<br>\n\n学生姓名：_________；学生学号：___________；专业班级：__________\n\n<br>\n\n\n# 作业提交\n\n**实验发布时间**：2023-11-27（周一）24:00:00\n\n**提交截止时间**：2023-12-04（周一）24:00:00\n\n**实验提交材料**：\n\n（1）根据实验要求，完成Office Word电子文档一份（注意不能是wps文档），提交前请将文件命名为下述格式：lab04_word_张三_2019000001.docx。\n\n（2）根据实验要求，完成EViews相关操作，保存并提交1份EViews工作文件`.wfl文件`，提交前请将文件命名为下述格式：lab04_eviews_张三_2019000001.wfl。\n\n（3）根据实验要求，完成EViews相关操作，保存并提交1份EViews编程代码文件`.prg文件`，提交前请将文件命名为下述格式：lab04_code_张三_2019000001.prg。\n\n\n**实验提交方式**：\n\n- 登陆西北农林科技大学[在线教育综合平台](https://eol.nwafu.edu.cn/meol/index.do) ->> 进入课程《计量经济学》（胡华平主讲，课程编号3133101） ->> 进入【课程作业】进行作业资料下载和作业提交。\n\n- 请按上述要求命名各个提交文件。 系统提交页面中，务必让每个上传文件之间换行，保持提交页面布局美观！\n\n\n# 作业提示\n\n## 如何在word中编辑数学公式？\n\n（1）如果使用Office 2003版：“插入” $\\Rightarrow$“对象”$\\Rightarrow$“microsoft公式3.0”\n\n（2）如使用Office 2007/2010版：“插入”$\\Rightarrow$“新公式”\n\n（3）使用独立公式软件`Mathtype`，任何Office版本都可以\n\na.在`Mathtype`中编写公式$\\Rightarrow$ 确定无误后复制公式$\\Rightarrow$然后粘贴到word中。\n    \nb.在`Word`中修改Mathtype形式的公式：$\\Rightarrow$ 双击公式则可以打开Mathtype软件，然后按上一步骤操作，修改完成后，点击保存即可。\n\n<br>\n\n<br>\n\n## EViews对象的命名参考\n\n考虑到本次实验课内容，EViews操作运算中可能需要保存和命名各类EViews对象，下面 @tbl-obj-multiple 给出了命名规则，供大家在EViews操作中参照使用。\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {#tbl-obj-multiple .cell layout-align=\"center\" tbl-cap='计算对象、表达式及Eviews命名'}\n::: {.cell-output-display}\n| 序号 |              含义               |                     数学表达式                      | 对象类型chn | 对象类型eng |   Evies对象命名    |\n|:----:|:-------------------------------:|:---------------------------------------------------:|:-----------:|:-----------:|:------------------:|\n|  1   |              序列Y              |                         $Y$                         |    序列     |   series    |         q          |\n|  2   |               组X               |                         $X$                         |     组      |    group    |         xg         |\n|  3   |        矩阵$\\mathbf{y}$         |                    $\\mathbf{y}$                     |    矩阵     |   matrix    |         y          |\n|  4   |        矩阵$\\mathbf{X}$         |                    $\\mathbf{X}$                     |    矩阵     |   matrix    |         x          |\n|  5   |      矩阵$\\mathbf{(X'X)}$       |                  $\\mathbf{(X'X)}$                   |    矩阵     |   matrix    |        xtx         |\n|  6   |   矩阵$\\mathbf{{(X'X)}^{-1}}$   |               $\\mathbf{{(X'X)}^{-1}}$               |    矩阵     |   matrix    |        xtxi        |\n|  7   |       矩阵$\\mathbf{X'y}$        |                   $\\mathbf{X'y}$                    |    矩阵     |   matrix    |        xty         |\n|  8   |   矩阵$\\mathbf{\\hat{\\beta}}$    |               $\\mathbf{\\hat{\\beta}}$                |    矩阵     |   matrix    |      beta_hat      |\n|  9   |          回归误差方差           |                  $\\hat{\\sigma}^2$                   |    标量     |   scalar    |     sigma2_hat     |\n|  10  |         回归误差标准差          |                   $\\hat{\\sigma}$                    |    标量     |   scalar    |     sigma_hat      |\n|  11  | $\\hat{\\beta}$样本方差协方差矩阵 | $\\mathrm{var}-\\mathrm{cov}{(\\mathbf{\\hat{\\beta}})}$ |    矩阵     |   matrix    | s2_varcov_beta_hat |\n|  12  |    $\\hat{\\beta}$样本方差矩阵    |            $\\mathbf{S_{\\hat{\\beta}}^2}$             |    矩阵     |   matrix    |    s2_beta_hat     |\n|  13  |   $\\hat{\\beta}$样本标准差矩阵   |             $\\mathbf{S_{\\hat{\\beta}}}$              |    矩阵     |   matrix    |     s_beta_hat     |\n|  14  |           均值修正值            |                    $n\\bar{Y}^2$                     |    标量     |   scalar    |      mean_adj      |\n|  15  |            总平方和             |                        $TSS$                        |    标量     |   scalar    |        tss         |\n|  16  |           残差平方和            |                        $RSS$                        |    标量     |   scalar    |        rss         |\n|  17  |           回归平方和            |                        $ESS$                        |    标量     |   scalar    |        ess         |\n|  18  |            判定系数             |                        $R^2$                        |    标量     |   scalar    |         r2         |\n|  19  |          调整判定系数           |                     $\\bar{R}^2$                     |    标量     |   scalar    |       r2_adj       |\n|  20  |           矩阵t统计量           |        $\\mathbf{t}^{\\ast}_{\\mathbf{\\beta}}$         |    矩阵     |   matrix    |   t_str_beta_hat   |\n|  21  |             理论t值             |                $t_{1-\\alpha/2}(n-k)$                |    标量     |   scalar    |      t_value       |\n|  22  |             F统计量             |                     $F^{\\ast}$                      |    标量     |   scalar    |       f_str        |\n|  23  |             理论F值             |               $F_{1-\\alpha}(k-1,n-k)$               |    标量     |   scalar    |      f_value       |\n|  24  |            样本外X0             |                        $X_0$                        |    矩阵     |   matrix    |         x0         |\n|  25  |     样本外回归值$\\hat{Y}_0$     |                     $\\hat{Y}_0$                     |    标量     |   scalar    |       y0_hat       |\n|  26  |            均值预测             |                  $E(Y\\mid X=X_0)$                   |    标量     |   scalar    |    forecast_exp    |\n|  27  |     $\\hat{Y}_0$的样本标准差     |                   $S_{\\hat{Y}_0}$                   |    标量     |   scalar    |       s_y0h        |\n|  28  |       均值区间预测的左界        |                 $E(Y\\mid X=X_0)_L$                  |    标量     |   scalar    |     y_exp_lft      |\n|  29  |       均值区间预测的右界        |                 $E(Y\\mid X=X_0)_R$                  |    标量     |   scalar    |     y_exp_rht      |\n|  30  |            个值预测             |                  $(Y_0\\mid X=X_0)$                  |    标量     |   scalar    |    forecast_ind    |\n|  31  | $(\\hat{Y}_0-{Y_0})$的样本标准差 |                $S_{(\\hat{Y}_0-Y_0)}$                |    标量     |   scalar    |    s_y0h_mns_y0    |\n|  32  |       个值区间预测的左界        |                 $(Y_0\\mid X=X_0)_L$                 |    标量     |   scalar    |     y_ind_lft      |\n|  33  |       个值区间预测的右界        |                 $(Y_0\\mid X=X_0)_R$                 |    标量     |   scalar    |     y_ind_rht      |\n:::\n:::\n\n\n\\newpage\n\n# 作业内容\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n1971-1975年间美国底特律市区消费者对玫瑰的季度需求案例的实验数据，由下面的 @fig-data-show 做出了部分展示。其中变量具体定义见 @tbl-vars 。\n\n我们将建立多元线性回归模型：\n\n$$\n\\begin{aligned}\nQ_i = \\hat{\\beta}_1 + \\hat{\\beta}_2 X_{2i} + \\hat{\\beta}_3 X_{3i}+ \\hat{\\beta}_4 X_{4i}+ \\hat{\\beta}_5 X_{5i}+ e_i \n\\end{aligned}\n$$ {#eq-multireg}\n\n\n\n::: {#tbl-vars .cell layout-align=\"center\" tbl-cap='变量定义及说明'}\n::: {.cell-output-display}\n|  变量  |           含义            |\n|:------:|:-------------------------:|\n|  obs   |           样本            |\n| quater |         年份.季度         |\n|   q    |      玫瑰销售量(打)       |\n|   x2   |    玫瑰批发价格(\\$/打)    |\n|   x3   | 石竹的平均批发价格(\\$/打) |\n|   x4   |   家庭可支配收入(\\$/周)   |\n|   x5   |         时间趋势          |\n:::\n:::\n\n\n> **温馨提示**：\n>（1）作业配套数据请在作业发布平台界面中自行下载。\n>（2）每个同学的数据都不一样（但样本数相同$n=16$）。请下载数据表后，按后面作业要求找到自己的数据，并进行Excel预处理（以便导入到Eviews）。\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![玫瑰季度需求案例的学生实验数据（n=16）](lab04-multireg_files/figure-docx/fig-data-show-1.png){#fig-data-show fig-align='center'}\n:::\n:::\n\n\n\n\n# 作业任务\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n## 题目1：工作文件及数据导入\n\n（1）请大家下载本次作业数据文件到本地电脑。\n\n> **温馨提示**：a.文件尽量不要放在电脑桌面，而是保存在自己清楚的文件夹路径下（如\"D://econometrics//lab04\"）；b.注意下载工具的使用，不是直接打开xlsx文件，而是要下载到本地电脑，然后再打开！\n\n答：此问不用作答，完成指定操作即可！\n\n<br>\n\n（2）打开EViews软件，创建工作文件（WF），命名为lab04；以及建立工作页（page），命名为multireg。\n\n答：此问不用作答，完成指定操作即可！\n\n<br>\n\n（3）将工作文件项目保存到本地电脑`.wfl`文件，并命名为“lab04_eviews_张三_2019000001.wfl”的形式。\n\n> **要求**：注意记住保存的文件夹路径，这个文件要提交到作业系统的！！！\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）对xlsx数据文件进行清洗处理，保留自己的数据。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）将清洗处理好后的数据导入到刚才建好的Eviews工作文件中。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目2：计算机自动分析\n\n\n运用Eviews菜单（Quick $\\Rightarrow$ Estimate Equation），对上述模型进行回归分析。\n\n> **温馨提示**：注意参看选项，并正确设置模型。\n\n（1）在Eviews软件中，以方程对象（Equation![](../pic/object/Equation.png)）形式保存上述回归结果，并命名为`eq_linear`。最后截图到下列空白处。\n \n答：\n\n<br>\n\n<br>\n\n（2）使用公式编辑器（或Mathtype软件），将上述EViews分析报告，手动整理成简要报告（四行报告，包括第1行样本回归方程、第2行对应的系数标准误、第3行对应的样本t统计量，以及第4行F检验值、p值、拟合优度等。具体形式见课件），将结果填写在下面空白处。\n\n答：\n\n<br>\n\n<br>\n\n（3）把以上计算机“自动报告”结果与你后续“手动计算”的结果进行比较，判断后续手动计算的每一步是否正确。\n\n> **温馨提示**：此小题不用作答，仅做后面参考。（要知道，后面手动计算中，一步错步步错！）。\n\n答：此题不需要作答！仅作提示！\n\n## 题目3：构建几个重要变量对象\n\n（1）请在EViews中，分别创建：a.样本数$n$标量对象（Scalar），保存并命名为![](../pic/object/Scalar.png)`n`。b.因变量均值$\\bar{Y}$标量对象（Scalar），保存并命名为![](../pic/object/Scalar.png)`avr_y`。\n\n> **温馨提示**：可以在EViews命令窗口中使用代码`scalar n=@obs(x2)`。\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n（2）请在EViews中，创建元素全为1的常数序列对象（Series），保存并命名为![](../pic/object/Series.png)`cst`。\n\n> **温馨提示**：可以使用EViews命令，或者也可以使用菜单操作。\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n（3）请在EViews中，将如下序列对象：![](../pic/object/Series.png)cst、![](../pic/object/Series.png)x2、![](../pic/object/Series.png)x3、![](../pic/object/Series.png)x4、![](../pic/object/Series.png)x5，创建为一个组对象（Group），保存并命名为![](../pic/object/Group.png)`xg`。\n\n> **温馨提示**：可以使用EViews命令，或者也可以使用菜单操作。\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）请在EViews中，将回归方程的残差$e_i$分别提取并保存为两类EViews对象：a.将回归方程的残差$e_i$分别提取为序列对象，保存并命名为![](../pic/object/Series.png)`ei_ser`。b.将回归方程的残差$e_i$分别提取为矩阵对象，保存并命名为![](../pic/object/Matrix.png)`ei_mat`。\n\n> **温馨提示**：a.可以使用EViews命令，或者也可以使用菜单操作。b.做完线性回归分析后，立刻提取回归残差![](../pic/object/Series.png)`resid`。c.Eviews执行代码可分别参考：`series ei_ser=resid`，以及`matrix ei_mat=resid`。\n\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n（）。\n\n\n## 题目4：构造X矩阵和Y矩阵对象\n\n（1）请在EViews中，创建矩阵$\\mathbf{X}$的矩阵对象（Matrix），保存并命名为![](../pic/object/Matrix.png)`x`。\n\n> **温馨提示**：可以在EViews命令窗口中使用代码`matrix x=xg`。\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n（2）请在EViews中，创建矩阵$\\mathbf{y}$的矩阵对象（Matrix），保存并命名为![](../pic/object/Matrix.png)`y`。\n\n> **温馨提示**：可以在EViews命令窗口中使用代码。\n\n答：此题不需要作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n## 题目5：回归系数矩阵理论表达\n\n利用矩阵计算理论公式，先计算得到几个重要矩阵（后面分析还要用到），最后利用矩阵运算计算得出回归系数向量。依次完成如下操作和提问。\n\n\n（1）给定样本回归模型（见 @eq-multireg ），请写出样本回归模型的矩阵表达式，以及各矩阵的具体形式。\n\n答a：填写补充样本回归模型的矩阵表达式：\n\n$$\n\\begin{alignedat}{4}\n\\mathbf{y} &= &\\mathbf{X}&\\mathbf{\\hat{\\beta}}&+&\\mathbf{e}\\\\\n(\\quad \\times \\quad) &  &{(\\quad \\times \\quad)} &{(\\quad \\times 1)}&+&{(\\quad \\times 1)}\n\\end{alignedat}\n$$\n\n答b：填写补充矩阵$\\boldsymbol{y}$的具体表达式：\n\n$$\n\\begin{aligned}\n\\mathbf{y}=\n  \\begin{bmatrix}\n  \\quad \\\\  \\quad \\\\  \\cdots \\\\  \\quad \\\\ \\quad \\\\\n  \\end{bmatrix}\n\\end{aligned}\n$$\n\n答c：填写补充矩阵$\\boldsymbol{X}$的具体表达式：\n\n$$\n\\begin{aligned}\n\\boldsymbol{X} =\n  \\begin{bmatrix}\n  \\quad &  \\quad & \\quad & \\quad &  \\quad \\\\\n  \\quad &  \\quad & \\quad & \\quad &  \\quad \\\\\n  \\cdots &  \\cdots & \\cdots & \\cdots &  \\cdots \\\\\n  \\quad &  \\quad & \\quad & \\quad &  \\quad \\\\\n  \\quad &  \\quad & \\quad & \\quad &  \\quad\n  \\end{bmatrix}\n\\end{aligned}\n$$\n\n答c：填写补充矩阵$\\boldsymbol{\\hat{\\beta}}$和$\\boldsymbol{e}$的具体表达式：\n\n$$\n\\begin{aligned}\n \\boldsymbol{\\hat{\\beta}} =\n  \\begin{bmatrix}\n  \\quad \\\\  \\quad \\\\  \\vdots \\\\  \\quad \\\\\n  \\end{bmatrix}\n; \\quad \\quad\n\\boldsymbol{e} =  \n  \\begin{bmatrix}\n  \\quad \\\\  \\quad \\\\  \\vdots \\\\  \\quad \\\\\n  \\end{bmatrix}\n\\end{aligned}\n$$\n\n\n## 题目6：计算回归系数向量\n\n（1）请写出线性回归模型 @eq-multireg ，斜率系数的矩阵理论计算公式：\n\n答：$\\boldsymbol{\\hat{\\beta}}=$\n\n<br>\n\n（2）根据上述矩阵计算公式，请分步骤计算得到如下几个重要矩阵对象：a.得到重要矩阵$\\boldsymbol{X'X}$，保存并命名为![](../pic/object/Matrix.png)`xtx`。b.得到重要矩阵$\\boldsymbol{(X'X)^{-1}}$，保存并命名为![](../pic/object/Matrix.png)`xtxi`。c.得到重要矩阵$\\boldsymbol{X'y}$，保存并命名为![](../pic/object/Matrix.png)`xty`。\n\n> **温馨提示**：可以在EViews命令窗口中使用如下参考代码。\n\n```\nmatrix xtx=@transpose(x)*x  '得到重要矩阵$X'X$\nmatrix xtxi=@inverse(xtx)   '得到重要矩阵$(X'X)^{-1}$\nmatrix xty=@transpose(x)*y  '得到重要矩阵$X'y$\n```\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（3）根据理论公式，在EViews中请创建并计算回归系数$\\boldsymbol{\\hat{\\beta}}$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`beta_hat`。\n\n> **温馨提示**：可以在EViews命令窗口中使用代码`matrix beta_hat=xtxi*xty`。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目7：残差序列\n\n利用Eviews软件，先得到回归的残差$e_i$的序列对象，保存并命名为![](../pic/object/Series.png)`ei`，并进一步得到回归残差平方$e^2_i$的序列对象，保存并命名为![](../pic/object/Series.png)`ei_sqr`。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目8：计算回归方程的误差方差及标准差\n\n（1）请写出线性回归模型 @eq-multireg ，回归误差方差和标准差的矩阵理论公式：\n\n答：补充完整下列理论公式：\n\n$$\n\\begin{aligned}\n\\hat{\\sigma}^2&=\\frac{\\sum{e_i^2}}{n-k}=\\frac{\\mathbf{y'y-\\hat{\\beta}'X'y}}{n-k}\\\\\n\\hat{\\sigma}&=\n\\end{aligned}\n$$\n\n<br>\n\n（2）根据理论公式，请创建并计算回归方程的误差方差$\\hat{\\sigma}^2$的标量对象，保存并命名为![](../pic/object/Scalar.png)`sgm_hat_sqr`。\n\n> **温馨提示**：有两种EViews操作方法。方法a：利用公式$\\sum{e_i^2}=\\boldsymbol{e^{\\prime}e}$，则需要用到回归方程的残差$e_i$矩阵对象![](../pic/object/Matrix.png)`ei_mat`（前面题目已完成）。方法b：利用上述矩阵理论计算公式，其中需要用到因变量均值$\\bar{Y}$标量对象![](../pic/object/Scalar.png)`avr_y`（见前面题目已完成）。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（3）根据理论公式，请在EViews中创建并计算回归方程的误差标准差$\\hat{\\sigma}$的标量对象，保存并命名为![](../pic/object/Scalar.png)`sgm_hat`。\n\n> **温馨提示**：开根号运算$\\sqrt{\\quad}$，可以在EViews命令窗口中使用代码`scalar sgm_hat=@sqr(sgm_hat_sqr)`\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n## 题目9：计算回归系数的方差协方差矩阵\n\n（1）请写出在符合**N-CLRM**假设情况下，回归系数的方差协方差矩阵的理论表达式。\n\n答：\n\n$$\n\\begin{aligned}\n\\widehat{var}\\_\\widehat{cov}(\\mathbf{\\hat{\\beta}})=\n\\end{aligned}\n$$\n\n（2）根据上述理论公式，在EViews中请创建并计算回归系数的样本方差协方差矩阵$\\widehat{var}\\_\\widehat{cov}(\\mathbf{\\hat{\\beta}})$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`s2_varcov_beta_hat`。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（3）进一步地，在EViews中请提取上述回归系数的样本方差协方差矩阵$\\widehat{var}\\_\\widehat{cov}(\\mathbf{\\hat{\\beta}})$的对角线元素，创建回归系数样本方差$S^2_{\\boldsymbol{\\hat{\\beta}}}$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`s2_beta_hat`。\n\n\n> **温馨提示**：提取矩阵对角线元素的操作，可以在EViews命令窗口中使用代码`matrix s2_beta_hat=@getmaindiagonal(s2_varcov_beta_hat) `\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）进一步地，请在EViews中创建并计算回归系数的误差标准差$S_{\\boldsymbol{\\hat{\\beta}}}$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`s_beta_hat`。\n\n> **温馨提示**：开根号运算$\\sqrt{\\quad}$，可以在EViews命令窗口中使用代码`matrix s_beta_hat=@sqr(s2_beta_hat)`\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目10：回归系数t检验\n\n利用Eviews软件，首先请分别计算所有模型回归系数的样本t统计量值（$t^{\\ast}_{\\hat{\\beta}}$）；然后使用EViews函数，得到给定$\\alpha=0.05$时的t理论值（$t_{1-\\alpha/2}(df)$）；最后根据计算结果完成对**斜率参数**的t检验过程。\n\n\n（1）请写出回归系数样本t统计量$\\boldsymbol{t}^{\\ast}_{\\hat{\\boldsymbol{\\beta}}}$的矩阵理论表达式。\n\n答：请补充完整下面的样本t统计量的矩阵表达式：\n\n$\\boldsymbol{t}^{\\ast}_{\\hat{\\boldsymbol{\\beta}}}=\\frac{\\quad}{\\quad}$\n\n<br>\n\n（2）在EViews中，请回归系数样本t统计量$\\boldsymbol{t}^{\\ast}_{\\hat{\\boldsymbol{\\beta}}}$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`t_str_beta_hat`。\n\n> **温馨提示**：1）请务必与EViews回归分析的自动结果进行核验，确认你的计算结果是正确的。2）可以在EViews命令窗口中使用如下代码进行操作：`matrix t_str_beta_hat=@ediv(beta_hat,s_beta_hat)`，其中`@ediv()`表示矩阵元素相除的操作函数。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n（3）在EViews中，创建并得到如下两个t理论查表值（给定$\\alpha=0.05$）的标量对象：$t_{1-\\alpha/2}(df)$和$t_{\\alpha/2}(df)=$。分别保存并命名为![](../pic/object/Scalar.png)`t_0975`和![](../pic/object/Scalar.png)`t_0025`。\n\n> **温馨提示**：可以在EViews命令窗口中使用如下代码进行操作：`scalar t_0975=@qtdist(0.975,df_rss)`，其中`@qtdist()`表示得到t值查表函数。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（4）根据回归系数t检验的步骤，利用以上计算结果。请在进一步得出对全部**回归系数**的t检验结论。请在下列空白处完成作答。\n\n> **温馨提示**：1）只需要根据计算结果做出t检验的结论即可（不需要）；2）所有计算结果都保留4位小数即可。\n\n答：对**回归系数**的t检验结论是：\n\n<br>\n\n\n## 题目11：平方和分解\n\n（1）在线性回归模型 @eq-multireg 下，请写出平方和分解的矩阵理论表达式。\n\n> **温馨提示**：$n\\bar{Y}^2$为计算矫正因子，后续计算会用到。\n\n答：（答案已给出，后续问题回答供参照）\n\n$$\n\\begin{aligned}\nAdj:  &\\quad  n\\bar{Y}^2 \\\\\nTSS &=\\mathbf{y'y}-n\\bar{Y}^2 \\\\\nRSS &=\\mathbf{e'e}=\\mathbf{y'y-\\hat{\\beta}'X'y} \\\\\nESS &=\\mathbf{\\hat{y}'\\hat{y}}=\\mathbf{\\hat{\\beta}'X'y}-n\\bar{Y}^2 \\\\\ndf_{TSS} &= n-1 \\\\\ndf_{RSS} &= n-k \\\\\ndf_{ESS} &=k-1\n\\end{aligned}\n$$\n\n（2）请在EViews中，计算平方和矫正因子$n\\bar{Y}^2$的标量对象，保存并命名为![](../pic/object/Scalar.png)`mean_adj`。\n\n> **温馨提示**：提取矩阵对角线元素的操作，可以在EViews命令窗口中使用代码`scalar mean_adj=n*avr_y^2`\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n（2）请计算平方和及其对应的自由度标量对象，分别命名为：![](../pic/object/Scalar.png)`tss`、![](../pic/object/Scalar.png)`ess`、![](../pic/object/Scalar.png)`rss`；以及![](../pic/object/Scalar.png)`df_tss`、![](../pic/object/Scalar.png)`df_ess`、![](../pic/object/Scalar.png)`df_rss`。\n\n> **温馨提示**：可以在EViews命令窗口中使用代码进行操作。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n## 题目12：判定系数和调整判定系数\n\n（1）在线性回归模型 @eq-multireg 下，请分别写出判定系数$R^2$和调整判定系数$\\overline{R}^2$的矩阵理论表达式。\n\n答：请补充完下面的理论公式：\n\n$$\n\\begin{aligned}\nR^2&=\\frac{ESS}{TSS} = \\\\\n\\bar{R}^2 &=1-\\frac{RSS/{f_{RSS}}}{TSS/{f_{TSS}}} =\n\\end{aligned}\n$$\n\n<br>\n\n（2）请在EViews中，请分别写出判定系数$R^2$和调整判定系数$\\overline{R}^2$的标量对象，分别保存并命名为![](../pic/object/Scalar.png)`r2`和![](../pic/object/Scalar.png)`r2_adj`。\n\n\n## 题目13：回归方程整体显著性检验\n\n利用Eviews软件，首先请回归方程的样本F统计量值（$F^\\ast$）；然后使用EViews函数，得到给定$\\alpha=0.05$时的F理论值（$f_{1-\\alpha}(df_1,df_2)$）；最后根据计算结果完成对回归方程整体显著性检验过程。请在下面空白处分别写出理论公式及计算结果。\n\n\n（1）请在下面空白处写出样本F统计量$F^\\ast=$的矩阵理论表达式。\n\n> **温馨提示**：已给出答案，不用作答，仅作提示，供后续计算使用。\n\n答：样本F统计量的理论计算公式为：\n\n$$\n\\begin{aligned}\nF^{\\ast} &=\\frac{ESS/{f_{ESS}}}{RSS/{f_{RSS}}} =\\frac{MSS_{ESS}}{MSS_{RSS}} \\\\\n         &=\\frac{(\\mathbf{\\hat{\\beta}X'y}-n\\bar{Y}^2)/{k-1}}{{(\\mathbf{y'y-\\hat{\\beta}'X'y})}/{n-k}} \n\\end{aligned}\n$$\n\n<br>\n\n\n（2）在EViews中，请计算并创建样本F统计量$F^\\ast=$的标量对象，保存并命名为![](../pic/object/Scalar.png)`f_str`。\n\n> **温馨提示**：1）请务必与第2题自动分析结果进行核验，确认你的计算结果是正确的。2）EViews中按要求保存相关计算对象，并按规范命名。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n（3）在EViews中，（给定$\\alpha=0.05$）请计算并创建样本F统计量$f_{1-\\alpha}(df_1,df_2)=$的标量对象，保存并命名为![](../pic/object/Scalar.png)`f_095`。\n\n> **温馨提示**：可以在EViews命令窗口中使用如下代码进行操作：`scalar f_095=@qfdist(0.95,df_ess,df_rss)`，其中`@qfdist()`表示得到F值查表函数。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n（4）根据回归系数F检验的步骤，利用以上计算结果。请在下列空白处写出对回归模型整体显著性F检验的结论。\n\n> **温馨提示**：1）只需要写出F检验的假设，并根据计算结果做出F检验的结论即可（不需要）；2）所有计算结果都保留4位小数即可。\n\n答：\n\na.请写出F检验提出原假设和备择假设：$H_0=;\\quad \\quad H_1=$\n\n<br>\n\nb.得出F检验结论：\n\n<br>\n\n## 题目14：预测问题（点预测）\n\n（1）给定样本外$(X2,X3,X4,X5)=(6,8,200,20)$，请在下列空白处写出矩阵$\\boldsymbol{X}_0$的具体形式。\n\n> **温馨提示**：1）注意常数项；2）注意矩阵维度。\n\n答：补充完整下列的具体矩阵形式：\n\n$$\n\\begin{aligned}\n\\boldsymbol{X}_0 =\n  \\begin{pmatrix}\n  \\quad & \\quad & \\quad & \\quad & \\quad\n  \\end{pmatrix}\n\\end{aligned}\n$$\n\n<br>\n\n\n（2）请在Eviews中，构建样本外$\\mathbf{X}_0$的矩阵对象，保存并命名为![](../pic/object/Matrix.png)`x0`。\n\n> **温馨提示**：需要在Eviews命令窗口中依次运行，1）构造空矩阵`matrix(1,5) x0`；2）给空矩阵赋值：`x0.fill(b=r) 1,6,8,200,20`。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n（3）给定样本外点$\\boldsymbol{X}_0$，请在下列空白处写出样本外拟合值$\\hat{Y}_0$的理论矩阵计算公式。\n\n> **温馨提示**：写出矩阵理论表达式的紧凑形式即可。\n\n答：补充完整下列的具体矩阵形式：\n\n$$\n\\begin{aligned}\n\\hat{Y}_0 =\n\\end{aligned}\n$$\n\n（4）请在Eviews中，构建样本外拟合值$\\hat{Y}_0$的标量对象，保存并命名为![](../pic/object/Scalar.png)`y0_hat`。\n\n答：此问不用作答，完成指定操作并确保正确即可！\n\n<br>\n\n\n## 题目15：预测问题（均值的区间预测）\n\n利用Eviews软件，首先构造并得到均值预测时需要用到的样本标准差$S_{\\hat{Y}_0}$；然后利用t分布（给定$\\alpha =0.05$）构造出均值的区间预测。\n\n（1）请在下列空白处，写出$\\hat{Y}_0$的样本标准差$S_{\\hat{Y}_0}$的**矩阵**理论计算公式：\n\n答：$S_{\\hat{Y}_0}=\\quad$\n\n<br>\n\n（2）请在下列空白处，写出均值预测$E(Y|X=X_0)$的置信区间的理论计算公式：\n\n答：补充下列计算公式：\n\n$$\n\\begin{aligned}\n  \\quad \\leq E(Y|X=X_0) \\leq \\quad \n\\end{aligned}\n$$\n\n（3）请在Eviews中计算并创建$\\hat{Y}_0$的样本标准差$S_{\\hat{Y}_0}$的标量对象，保存并命名为：![](../pic/object/Scalar.png)`s_y0h`。\n\n> **温馨提示**：可以在EViews命令窗口中输入代码进行计算操作。注意开根号运算$\\sqrt{\\quad}$。\n\n答：完成上述指定操作并确保正确，最后将结果值誊写到下列对应处（仅填数值，并保留4位小数）：\n\n$S_{\\hat{Y}_0} = \\quad$\n\n<br>\n\n\n（4）请在Eviews中分别计算并创建均值预测$E(Y|X=X_0)$的置信区间的左界值和右界值的标量对象，分别保存并命名为：![](../pic/object/Scalar.png)`y_exp_lft`和![](../pic/object/Scalar.png)`y_exp_rht`。\n\n> **温馨提示**：可以在EViews命令窗口中输入代码进行计算操作。\n\n答：完成上述指定操作并确保正确，最后将结果值誊写到下列对应处（仅填数值，并保留4位小数）：\n\n左界值：$E(Y|X=X_0) \\geq \\quad$\n\n右界值：$E(Y|X=X_0) \\leq \\quad$\n\n<br>\n\n## 题目16：预测问题（个值的区间预测）\n\n利用Eviews软件，首先构造并得到个值预测时需要用到的样本标准差$S_{(Y_0 -\\hat{Y}_0)}$；然后利用t分布（给定$\\alpha =0.05$）构造出均值的区间预测。\n\n（1）请在下列空白处，写出$(Y_0 -\\hat{Y}_0)$的样本标准差$S_{(Y_0 -\\hat{Y}_0)}$的**矩阵**理论计算公式：\n\n答：$S_{(Y_0 -\\hat{Y}_0)}=\\quad$\n\n<br>\n\n（2）请在下列空白处，写出个值预测$(Y_0|X=X_0)$的置信区间的理论计算公式：\n\n答：补充下列计算公式：\n\n$$\n\\begin{aligned}\n  \\quad \\leq (Y_0|X=X_0) \\leq \\quad \n\\end{aligned}\n$$\n\n\n（3）请在Eviews中计算并创建$(Y_0 -\\hat{Y}_0)$的样本标准差$S_{(Y_0 -\\hat{Y}_0)}$的标量对象，保存并命名为：![](../pic/object/Scalar.png)`s_y0_mns_y0h`。\n\n> **温馨提示**：可以在EViews命令窗口中输入代码进行计算操作。注意开根号运算$\\sqrt{\\quad}$。\n\n答：完成上述指定操作并确保正确，最后将结果值誊写到下列对应处（仅填数值，并保留4位小数）：\n\n$S_{(Y_0 -\\hat{Y}_0)} = \\quad$\n\n<br>\n\n\n（4）请在Eviews中分别计算并创建均值预测$(Y_0|X=X_0)$的置信区间的左界值和右界值的标量对象，分别保存并命名为：![](../pic/object/Scalar.png)`y_ind_lft`和![](../pic/object/Scalar.png)`y_ind_rht`。\n\n> **温馨提示**：可以在EViews命令窗口中输入代码进行计算操作。\n\n答：完成上述指定操作并确保正确，最后将结果值誊写到下列对应处（仅填数值，并保留4位小数）：\n\n左界值：$(Y_0|X=X_0) \\geq \\quad$\n\n右界值：$(Y_0|X=X_0) \\leq \\quad$\n\n<br>\n\n",
    "supporting": [
      "lab04-multireg_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}